<!DOCTYPE html>
<html lang="en"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
    <title>JSF Paginated Table</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" 
          integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous"/>
    <style>
        .pagination-container {
            margin-top: 20px;
            display: flex;
            justify-content: center;
        }
        .page-info {
            text-align: center;
            margin-bottom: 10px;
            color: #6c757d;
        }
    </style>
</h:head>
<h:body>
    <div class="container mt-4">
        <h:form>
            <!-- Table -->
            <table class="table table-striped table-bordered">
                <thead class="thead-dark">
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                    </tr>
                </thead>
                <tbody>
                    <ui:repeat var="item" value="#{userBean.paginatedUsers}">
                        <tr>
                            <td>#{item.id}</td>
                            <td>#{item.name}</td>
                        </tr>
                    </ui:repeat>
                </tbody>
            </table>

            <!-- Pagination Info -->
            <div class="page-info">
                Showing #{userBean.firstItem + 1} to #{userBean.lastItem} of #{userBean.totalUsers} entries
            </div>

            <!-- Pagination Controls -->
            <div class="pagination-container">
                <ul class="pagination">
                    <li class="page-item #{userBean.currentPage == 1 ? 'disabled' : ''}">
                        <h:commandLink action="#{userBean.firstPage}" styleClass="page-link">
                            
                        </h:commandLink>
                    </li>
                    <li class="page-item #{userBean.currentPage == 1 ? 'disabled' : ''}">
                        <h:commandLink action="#{userBean.previousPage}" styleClass="page-link">
                           
                        </h:commandLink>
                    </li>

                    <ui:repeat var="page" value="#{userBean.pages}">
                        <li class="page-item #{userBean.currentPage == page ? 'active' : ''}">
                            <h:commandLink action="#{userBean.goToPage(page)}" styleClass="page-link">
                                #{page}
                            </h:commandLink>
                        </li>
                    </ui:repeat>

                    <li class="page-item #{userBean.currentPage == userBean.totalPages ? 'disabled' : ''}">
                        <h:commandLink action="#{userBean.nextPage}" styleClass="page-link">
                            
                        </h:commandLink>
                    </li>
                    <li class="page-item #{userBean.currentPage == userBean.totalPages ? 'disabled' : ''}">
                        <h:commandLink action="#{userBean.lastPage}" styleClass="page-link">
                            
                        </h:commandLink>
                    </li>
                </ul>
            </div>
        </h:form>
    </div>
</h:body>
</html>